
# Спецификация интеграции OntoTransponder с OntoCoder

> **Версия**: 1.0  
> **Лицензия**: GPL-3.0-only  
> **Цель**: Описать, как компонент `onto-transponder-gpl` используется в рамках экосистемы OntoCoder как модуль ввода онтологически структурированных данных и управления темпераментно-адаптивным поведением агентов.

---

## 1. Общие принципы интеграции

OntoTransponder не является зависимостью времени выполнения для OntoCoder, а служит **автономным интерфейсным модулем**, который:

- принимает внешние события (сигналы, действия, факты) в формате `onto16r`,
- интерпретирует их согласно профилю `onto144`,
- выбирает когнитивную архитектуру (`onto-richness` или `behav-mod`),
- генерирует внутренние состояния в `onto8` для последующей обработки в OntoCoder.

Таким образом, OntoTransponder выступает **онтологическим интерфейсом «внешний мир → синтетический разум»**, а OntoCoder — **движком правил и поведения**, основанным на этих состояниях.

---

## 2. Точки сопряжения

### 2.1. Вход: `onto16r` → OntoTransponder

- OntoCoder может инициировать транспондер напрямую через `emitter_bridge.py`, передавая события от игровых систем, пользовательских действий или социальных триггеров.
- Все входные данные должны соответствовать схеме `signal-schema.json`.

### 2.2. Выход: `onto8` → OntoCoder

- После обработки в `NoemaFast`/`NoemaSlow`, транспондер формирует внутреннее состояние (`onto8`) и передаёт его OntoCoder через интерфейсный адаптер (например, `onto8_agent_context`).
- Это состояние содержит:
  - текущий режим когниции,
  - уровень социальной близости,
  - признак необходимости этической проверки (флаг `requires_vma`).

### 2.3. Профиль: `onto144` ↔ OntoCoder

- OntoCoder загружает профиль `onto144` через `onto144_connector.py`.
- На основе темперамента (например, `choleric`) OntoCoder может заранее преднастроить:
  - ожидаемые поведенческие паттерны,
  - пороги реакции,
  - правила монетизации (в игровом контексте).

---

## 3. Примеры использования

### 3.1. Игровой агент (Gaming Segment)

- **Сценарий**: игрок совершает действие в виртуальном мире.
- **Поток**:
  1. Событие записывается в `onto16r` (покупка, диалог, бой).
  2. OntoTransponder анализирует событие → активирует `behav-mod` (для холерика).
  3. Генерируется `onto8`-контекст: «высокая активность, низкая рефлексия».
  4. OntoCoder применяет правила из `SGCL`/`AENGA` для генерации ответа или награды.

### 3.2. Этический арбитр (High-Stakes)

- **Сценарий**: медицинский агент получает запрос на одобрение процедуры.
- **Поток**:
  1. Сигнал помечен как `high-stakes`.
  2. OntoTransponder активирует `onto-richness` (независимо от темперамента, если профиль позволяет).
  3. Требуется подпись `vma_signer.py`.
  4. OntoCoder использует результат для генерации этического вердикта по правилам `SGRL`.

---

## 4. Ограничения и гарантии

- **Запрещено**: использование OntoTransponder в проприетарных средах (блокировка через `license_guard.py`).
- **Не допускается**: кэширование raw-сигналов вне `onto16r` без шифрования (согласно `crypto_utils.py`).
- **Требуется**: все профили `onto144`, используемые в связке, должны быть лицензированы под **GPL-3.0-only или совместимой**.

---

## 5. Будущие расширения

- Поддержка `Sub Duo`-архитектуры: два параллельных транспондера (рефлексивный + реактивный) с голосованием через `VMA`.
- Автоматическая генерация правил OntoCoder на основе истории `onto16r → onto8` (обратная связь для обучения без ИИ).

---

> **Примечание**: Эта спецификация не заменяет лицензионное соглашение. Любая реализация интеграции должна соответствовать условиям GNU GPL версии 3, включая предоставление исходного кода всех производных работ.


